**Планировщик в Linux** — это ключевая часть ядра, которая отвечает за распределение процессорного времени между запущенными процессами и потоками. Благодаря ему система может эффективно работать в многозадачном режиме, одновременно выполняя множество процессов.

---
### Что делает планировщик ядра?

- Определяет, какой процесс или поток должен быть запущен сейчас.
- Переключает контекст между задачами («переключение задач»).
- Поддерживает политики приоритетов.
- Следит за тем, чтобы каждый процесс получил необходимое ему время процессора.

---

### Алгоритмы и политики

Современные ядра Linux используют сложные алгоритмы планирования. В настоящее время основным является **Completely Fair Scheduler (CFS)** («полностью справедливый планировщик»), который работает на КЧ-деревьях. IO-bound в левов нижней ноде, CPU-bound - в правом.

#### **Основные политики планирования:**

- **SCHED_OTHER** — основная политика для обычных приложений (использует CFS).
- **SCHED_FIFO, SCHED_RR** — политики реального времени (first-in-first-out, round-robin), используются для задач с высоким приоритетом.
- **SCHED_DEADLINE** — для задач с жёсткими требованиями по времени.

#### Кратко о CFS:  

CFS пытается справедливо распределять время CPU между всеми активными задачами согласно их «приоритетам». Для этого он отслеживает, сколько времени получил каждый процесс, и выбирает для запуска того, кто отставал.

---
## Типы задач

### 1. CPU-bound задачи

**CPU-bound** (процессорозависимые) задачи — это такие задачи, которые большую часть времени заняты вычислениями на процессоре.  

Примеры:
- Компиляция программ
- Сложные математические расчёты
- Обработка графики или видео

**Характеристика:**  Загрузка процессора максимально высокая, задачи почти не обращаются к внешним устройствам (дискам, сети), а только производят вычисления.
**Цель оптимизации:**  Убедиться, что процессору не приходится ждать. Эффективность определяется скоростью вычислений и количеством доступных ядер.

---  
### 2. IO-bound задачи
  
**IO-bound** (ориентированные на ввод/вывод) задачи — это такие задачи, которые большую часть времени проводят в ожидании завершения операций ввода-вывода (I/O): чтения с диска, сети, обращения к БД и т.п.  

Примеры:
- Копирование файлов
- Чтение/запись в базу данных
- Ожидание ответа от веб-сервера

**Характеристика:**  Процессор часто простаивает, ожидая завершения операции I/O.
**Цель оптимизации:**  Сделать так, чтобы процессор не простаивал — например, запускать другие задачи во время ожидания I/O.

---
## Как это связано с планировщиком (scheduler)?

Планировщик старается достичь баланса между этими типами задач, чтобы максимально загрузить систему. Некоторые моменты:

- **CPU-bound задачи** хотят как можно больше времени на процессоре (CPU time), мало зависят от ввода-вывода.
- **IO-bound задачи** быстро отдают процессор, как только начинают ждать операции I/O, зато запускать их нужно часто и эффективно.
- **Современные планировщики** (например, Completely Fair Scheduler в Linux) оценивают поведение процесса и могут выделять больше времени CPU-bound задачам, если ресурсов достаточно, или распределять короткие отрезки времени между множеством IO-bound задач, чтобы они быстро реагировали на завершение I/O.

---
## Почему это важно?

- **Для производительности:** если у вас много IO-bound задач, система может обслуживать их параллельно — одна ждёт диск, другая — сеть.
- **Для оптимизации:** если задача CPU-bound, ей могут выделить больше времени на процессоре, чтобы минимизировать накладные расходы на переключение.
- **Для проектирования ПО:** грамотный учёт типа задачи помогает выбрать правильные параллельные или асинхронные подходы.