![[Pasted image 20251005125953.png | 900]]
Данные передаются по Ethernet-проводу - в нем четыре пары медных проводов. Условно напряжение 0v интерпретируется как 0, +5v как 1. Скорость передачи(на каком временном участке мы считаем символ за один) можно менять.

---

![[Pasted image 20251005131147.png | 900]]
Оптоволокно состоит из тонкой стеклянной нити с покрытием из другого стекла(оболочки) с другим коэффициентом преломления. Из-за чего свет преломляется полностью об оболочку и идёт только по нити. Также можем условиться, что включенный свет - это 1, выключенный - 0.

---

![[Pasted image 20251005133239.png | 900]]
Ещё сигнал можно передавать через радио-волны роутера. У роутера есть антенна(просто провод или катушка с проводом). Антенна работает так: меняется напряжение, меняется напряжение на антенне на высокой частоте. Например, это может быть синусоидальная волна частотой 2.4 ГГц, где напряжение колеблется. Другое устройство может принимать это радио-волны, усиливать и преобразовывать в тот же сигнал. Синусоида и синусоида со сдвинутой на pi фазой можно условно конвертить в 0 и 1.

---

![[Pasted image 20251005135111.png | 900]]

Для передачи данных между двумя компьютерами их можно соединить кабелем и, изменяя напряжение на кабеле, передавать 0 и 1. Важно, чтобы на обоих компьютерах были синхронизировано часы, иначе расхождение в фазах может повлечь неверное считывание данных. Компьютер считывает 0 и 1 на восходящем потоке часов.

Часы на компьютерах можно синхронизировать через GPS-антенны, но это накладно по ресурсам. Можно установить атомные часы прямо в компьютер, но это тоже редкий подход. Можно сигнал часов отправлять параллельно данным по другому проводу, но такой способ не даёт гарантий на одинаковые тайминги прихода сигнала данных и часов.

В основном используется подход **Манчестерского кодирования** - нулём считается нисходящий поток данных, единицей - восходящий. Не путать с восходящим потоком часов, как ранее описано. При последовательно идущих нулей или единиц приемник игнорирует восходящий/нисходящий поток, т.к. он выбивается из общего такта считывания.

---
![[Pasted image 20251005152201.png | 900]]
Кадр измерений осциллографа, который считывает напряжение с пары проводов Ethernet. Видно, как передаются данные "KA". При этом стоит учесть, что биты передаются в обратном порядке для каждого байта.

Как выбирается начало байта? Байты группируются в кадры, а если знаем начало кадра, то будем в курсе, где первый байт.

Есть много способов кадрирования. Один из них – протокол HDLC(High Level Datalink Control), который использует флаг(разделитель кадров) `01111110`, т.е. получатель, видя этот флаг, понимает, что следующий за ним бит - начало кадра. Если флаг случайно появляется среди данных, то перед шестой единицей добавляет 0(битовая вставка), который получатель откидывает, но при этом понимает, что всё ещё читает кадр. Данных протокол используется в PPP.

![[Pasted image 20251005202711.png|900]]

Ethernet-кадрирование: Ethernet перед передачей кадра создает период тишины, затем передаёт 56-битную преамбулу, чтобы синхронизировались часы компьютеров. После преамбулы идёт разделитель кадров `10101011`

![[Pasted image 20251005203033.png|900]]

Теоретически, можно отправлять кадр с одним байтом, но это не эффективно, т.к. нужно "молчать" и передавать преамбулу. Слишком много байтов тоже не вариант передавать - одна ошибка и ~~ты ошибся~~ нужно передавать всё заново. Поэтому выбрали оптимальный вариант - в промежутке 64-1500 байт в кадре. В редких случаях в высокопроизводительных сетях кадры могут быть более 9000 байт - их называют "jumbo-кадры".

---

![[Pasted image 20251005210639.png|900]]

Сети делят на точечные и широковещательные. Первые используются в основном у интернет-провайдеров. Вторые – почти во всём остальном. 

---

Описание кадров Ethernet и PPP(point-to-point protocol)

![[Pasted image 20251005210915.png|900]]
![[Pasted image 20251005212110.png|900]]

![[Pasted image 20251014191056.png|900]]

---

Размер сетевого пакета ограничивается характеристиками аппаратных средств и требованиями протоколов.
**MTU** - Maximum Transfer Unit, предельный размер пакета на канальном уровне. Например, объём полезного содержимого стандартного Ethernet-фрейма не может превышать 1500 байт.
Протокол IPv4 разделяет пакеты на такие фрагменты, чтобы их размер соответствовал требованиям к MTU конкретного сетевого соединения. Если пакет проходит через несколько сетей с разным MTU, то маршрутизатор может фрагментировать сообщение(если не установлен в заголовке IPv4 флаг "не фрагментировать", иначе вернётся ICMP-сообщение с ошибкой и размером MTU). В IPv6 фрагментировать может только отправитель.