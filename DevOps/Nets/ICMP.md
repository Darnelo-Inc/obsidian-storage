Протокол для отправки межсетевых сообщений. Если во время обработки пакет на маршрутизаторе произошла ошибка, например, пакет нельзя фрагментировать, но он не помещается по размеру в пропускную способность канала, то формируется ICMP-сообщение, которое вкладывается в IP пакет и передаётся отправителю.

Заголовок ICMP-сообщения:

![[Pasted image 20251014184646.png|900]]

Утилита **ping**(определяет доступность получателя) отправляет ICMP-запрос с типом 8 и кодом 0, отправляя echo-запрос. Если маршрутизатору не удаётся найти получателя, то придёт echo-ответ с типом 0 и кодом 0.

Утилита **traceroute**(определяет маршрут до получателя) поочередно отправляет IP-пакеты, постепенно увеличивая TTL на 1. Каждый маршрутизатор по пути до получателя отправит отправителю ICMP-сообщение с типом 11 и кодом 0.