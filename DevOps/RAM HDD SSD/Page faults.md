**Page fault** («прерывание по отсутствию страницы») — это событие, когда процесс обращается к области памяти, которая ещё не отображена в физическую оперативку (RAM). Тогда операционная система должна «достать» нужную страницу и отобразить её в RAM.

**Бывают двух типов:**  
- **Minor page fault** (незначительный)
- **Major page fault** (значительный или серьёзный)

---
## Minor Page Fault (Minor Fault)

- **Что это:**  
  Возникает, когда процесс обращается к странице, которая ещё не была отображена в его собственное виртуальное адресное пространство, но она УЖЕ находится в RAM (например, как часть общей памяти или кэша).
- **Что делает ОС:**  
  Просто добавляет нужную страницу в таблицу отображения процесса — фактически "подключает" уже загруженную в RAM страницу.  
  **Жёсткого чтения с диска не происходит!**
- **Характеристика:**  
  Быстро, почти незаметно по времени.

---
## Major Page Fault (Major Fault)

- **Что это:**  
  Происходит, когда процессу нужна страница, которую НЕТ в ОЗУ, и её нужно читать с диска (или из swap).
- **Что делает ОС:**  
  Читает нужную страницу с диска (или swap) в память, после этого отображает её для процесса.
- **Характеристика:**  
  Это дорого по времени! Процесс может «подвиснуть», пока страница не будет загружена с диска.

---
## Почему это важно?

- **Много major faults** — часто признак того, что памяти не хватает, система вынуждена выгружать и догружать страницы с диска (или swap), это тормозит работу.
- **Minor faults** — это скорее нормально, они почти не влияют на производительность.
- 
---
## Где смотреть?

- В выводе команды ps с опциями:
`ps -o min_flt,maj_flt,pid,cmd -p <PID>`

- В top/htop можно добавить эти поля через настройки.
- В vmstat:
  - **si/so** — подкачка (swap in/out)
  - **pgfault/pgmajfault** — page faults

---
### **Иллюстрация:**

- Minor fault:  `Процессу нужна библиотека, которая уже загружена в память кем-то другим — ОС просто "отмечает" эту память для процесса.`
- Major fault:  `Процесс обращается к куску своих данных, выгруженному на диск — нужно реально ждать чтения.`